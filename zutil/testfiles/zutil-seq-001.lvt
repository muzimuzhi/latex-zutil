\input{regression-test}
\documentclass{minimal}

\usepackage{zutil}

\ExplSyntaxOn

\debug_on:n { check-declarations , deprecation }

\START

% based on l3kernel test for \seq_set_split_keep_spaces:Nnn,
% from l3kernel/testfiles/m3seq004.lvt
\TEST{zutil_seq_set_split_keep_braces:Nnn}{
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { | } { }
  \seq_log:N \l_tmpa_seq
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { , } { a, }
  \seq_log:N \l_tmpa_seq
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { , } { a~,~b }
  \seq_log:N \l_tmpa_seq
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { | }
    { ~ a | b | ~c~ | {|} | ~{~|{}~} | d ~ }
  \seq_log:N \l_tmpa_seq
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { ~ }
    { Hello,~world,~my~name~is~LaTeX! }
  \seq_log:N \l_tmpa_seq
  \zutil_seq_set_split_keep_braces:Nnn \l_tmpa_seq { } { abcdefghijklm }
  \seq_log:N \l_tmpa_seq
}

\ExplSyntaxOff

\END
