\documentclass{article}
\usepackage[b5paper,margin=1cm]{geometry}
\pagestyle{empty}

\input{regression-test}

%% share rownum counter (#269, davidcarlisle/dpctex#33)
\makeatletter
\ExplSyntaxOn
\int_new:N \c@rownum
\ExplSyntaxOff
\makeatother

%\usepackage{array}
\usepackage{tabularray}

\UseTblrLibrary{varwidth}

\begin{document}

\START
\hrule\bigskip

\BEGINTEST{testing rownum / colnum / rowcount / colcount }
A\begin{tblr}{|l|c|r|c|}
\hline
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] &
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] \\
\hline
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] &
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] \\
\hline
Row=\arabic{rowcount},Col=\arabic{colcount} & Row=\arabic{rowcount},Col=\arabic{colcount} &
Row=\arabic{rowcount},Col=\arabic{colcount} & Row=\arabic{rowcount},Col=\arabic{colcount} \\
\hline
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] &
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] \\
\hline
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] &
Cell[\arabic{rownum}][\arabic{colnum}] & Cell[\arabic{rownum}][\arabic{colnum}] \\
\hline
\end{tblr}B
\ENDTEST

\end{document}
